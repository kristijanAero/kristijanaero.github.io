<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optimization - Composite Wing</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Work+Sans:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="chapter-content">
            <!-- Chapter Header -->
            <div class="chapter-header">
                <a href="index.html" class="back-link">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back to Project
                </a>
                
                <h1>Optimization</h1>
                <p>Genetic algorithm optimization of composite layup configurations</p>
            </div>

            <!-- Chapter Content -->
            <div class="chapter-body">
                <h2>Optimization Process</h2>
                
                <p>
                    Optimization was automated with a Python script whose goal is to run the <code style="background-color: var(--color-accent-light); padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', monospace;">.inp</code> file through Abaqus/Standard, extrapolate the needed results, feed them into a genetic algorithm, and then edit the <code style="background-color: var(--color-accent-light); padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', monospace;">.inp</code> file with the evolved variables – the process is repeated until the algorithm converges.
                </p>

                <img src="photos/genOptiFlow.png" alt="Optimization Algorithm Flowchart" style="max-width: 50%; height: auto; display: block; margin: 30px auto; border-radius: 8px; box-shadow: var(--shadow-sm);" />
                <p style="color: var(--color-text-light); font-style: italic; text-align: center; margin-top: -20px; margin-bottom: 30px;">Optimization Algorithm Flowchart</p>

                <h2>Optimization Constraints</h2>

                <p>
                    Only the wingbox skin and spar caps were subjected to the optimization. Control variables used were: maximum Tsai-Wu failure index (TSAIWU) and y-direction displacement of the wing tip (U2). TSAIWU was set to have the upper limit of &lt;1, while the upper limit of U2 was set to be 10% of the half-wingspan, which equals 380 mm. The algorithm also follows a rule of minimizing the mass of the wing (variable <code style="background-color: var(--color-accent-light); padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', monospace;">MASS</code>). It was expected for the total mass of the wing to be less than 30 kg. If the solution violates any of these constraints, algorithm is instructed to penalize it and diverge from it.
                </p>

                <table border="1" cellpadding="5" cellspacing="0" style="width: 100%; border-collapse: collapse; margin: 20px 0; background-color: var(--color-card); box-shadow: var(--shadow-sm); border-radius: 8px; overflow: hidden;">
                    <thead style="background-color: var(--color-accent-light);">
                        <tr>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Variable</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Constraint</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">TSAIW</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">&lt; 1</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">U2</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">&lt; 380 mm</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">Mass</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">&lt; 32 kg</td>
                        </tr>
                    </tbody>
                </table>

                <h2>Optimization Bounds</h2>

                <p>
                    Groups G1, G2, and G3 and layups C1 and C2 had upper and lower bounds set with a constant increment of 0.125, which represents the thickness of a single ply in millimeters. Since the variable bounds need to be as narrow as possible to ease and speed up the optimization process, a few iterative runs were made with the goal of testing different upper-bound layups.
                </p>

                <p>
                    <strong>Important notice:</strong> The composite design followed the previously established guidelines for spar cap layups. Skin layups were configured as quasi-isotropic with an additional 0-degree reinforcement ply. This design shifted the maximum failure location to the front spar web. However, this result was partly influenced by the idealized geometry model, which is stiffer than realistic conditions—specifically, the model lacks adhesive layers that would typically soften transitions between regions of high stiffness mismatch.
                </p>

                <p style="color: var(--color-text-light); font-style: italic; margin-top: 1.5rem;">Layup thickness bounds</p>

                <table border="1" cellpadding="5" cellspacing="0" style="width: 100%; border-collapse: collapse; margin: 20px 0; background-color: var(--color-card); box-shadow: var(--shadow-sm); border-radius: 8px; overflow: hidden;">
                    <thead style="background-color: var(--color-accent-light);">
                        <tr>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Layup/Group</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Ply orientation</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Lower Bound</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Upper Bound</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Increment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">G1/G1S</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">Every ply orientation</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.250</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.500</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">G2/G2S</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">Every ply orientation</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.250</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">G3/G3S</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">Every ply orientation</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                        </tr>
                        <tr>
                            <td rowspan="3" style="padding: 12px 15px; border-bottom: 1px solid #eee;">C1/C2</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">+45°/-45°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.250</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.500</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">1.25</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">2.5</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">90°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.250</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.500</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">.125</td>
                        </tr>
                    </tbody>
                </table>

                <h2>Optimization Results</h2>

                <p>
                    After 2184 runs it was noticed the algorithm wasn't converging anymore and thus the simulation was stopped. Even though algorithm sought any solution with Tsai-Wu failure index lower than 1 (while also satisfying other constraints) it was decided that only the thickness sets with Tsai-Wu values lower than 0.95 will be considered to introduce some level of safety margin into the design (Numerical model already considers the material idealized - ply interlaminar interface is considered perfectly bonded, etc.). Chosen solution is presented with an orange point in Tsai-Wu/Mass plot below.
                </p>

                <img src="photos/optimizationPlot2D.png" alt="Tsai-Wu/Mass optimization plot" style="max-width: 100%; height: auto; display: block; margin: 30px auto; border-radius: 8px; box-shadow: var(--shadow-sm);" />
                <p style="color: var(--color-text-light); font-style: italic; text-align: center; margin-top: -20px; margin-bottom: 30px;">Tsai-Wu/Mass optimization plot with a chosen solution shown</p>

                <p>Results from the best solution are as follows (thicknesses per ply):</p>

                <p style="color: var(--color-text-light); font-style: italic; margin-top: 1.5rem;">Best solution results</p>

                <table border="1" cellpadding="5" cellspacing="0" style="width: 100%; border-collapse: collapse; margin: 20px 0; background-color: var(--color-card); box-shadow: var(--shadow-sm); border-radius: 8px; overflow: hidden;">
                    <thead style="background-color: var(--color-accent-light);">
                        <tr>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Parameter</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">Mass</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">28.133 kg</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">TSAIW</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.94767</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">U2</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">328.5 mm</td>
                        </tr>
                    </tbody>
                </table>

                <p>
                    It is expected for the failure index to be smaller by around 5-15 % once the realistic layups are implemented in the model, which can be proven using CLT. Also, new CAE model will have a slightly bigger mass since the G1 and G2 layups will be extended by half a distance between the ribs to prevent stress peak on areas where skin and ribs meet.
                </p>

                <p style="color: var(--color-text-light); font-style: italic; margin-top: 1.5rem;">Layup thicknesses per ply</p>

                <table border="1" cellpadding="5" cellspacing="0" style="width: 100%; border-collapse: collapse; margin: 20px 0; background-color: var(--color-card); box-shadow: var(--shadow-sm); border-radius: 8px; overflow: hidden;">
                    <thead style="background-color: var(--color-accent-light);">
                        <tr>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Section</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Ply Orientation</th>
                            <th style="padding: 15px; text-align: left; font-weight: 600; color: var(--color-primary); border-bottom: 2px solid var(--color-accent);">Thickness (mm)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="3" style="padding: 12px 15px; border-bottom: 1px solid #eee;">C1</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">+45°/-45°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.250</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">1.750</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">90°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.250</td>
                        </tr>
                        <tr>
                            <td rowspan="3" style="padding: 12px 15px; border-bottom: 1px solid #eee;">C2</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">+45°/-45°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.250</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">1.650</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">90°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.250</td>
                        </tr>
                        <tr>
                            <td rowspan="3" style="padding: 12px 15px; border-bottom: 1px solid #eee;">G1</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">+45°/-45°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.250</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.500</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">90°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.250</td>
                        </tr>
                        <tr>
                            <td rowspan="3" style="padding: 12px 15px; border-bottom: 1px solid #eee;">G2</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">+45°/-45°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.125</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.250</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">90°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.125</td>
                        </tr>
                        <tr>
                            <td rowspan="3" style="padding: 12px 15px; border-bottom: 1px solid #eee;">G3</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">+45°/-45°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.125</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.125</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">90°</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #eee;">0.125</td>
                        </tr>
                    </tbody>
                </table>

            <!-- Navigation Arrows -->
            <div class="chapter-navigation">
                <a href="numerical.html" class="nav-button">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Previous
                </a>

                <a href="results.html" class="nav-button">
                    Next
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>
        </div>
    </div>
</body>
</html>