<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Aerobatic Airplane Wing Design - Project Details</title>
<style>
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #001f4d;
  color: #f0e6d2;
  display: flex;           /* keep sidebar + content side by side */
  overflow: auto;          /* normal scrollbar on window */
  justify-content: center; /* horizontally center content + sidebar group */
}
.sidebar {
  background: #003366;
  width: 260px;
  padding: 1rem;
  box-sizing: border-box;
  overflow-y: auto;
  flex-shrink: 0;         /* prevent shrinking */
  height: 100vh;           /* make it full height */
  position: sticky;
  top: 0;                  /* keeps sidebar at top when scrolling content */
}

.sidebar h2 {
  color: #ffb347; /* light orange */
  margin-top: 0;
  margin-bottom: 1rem;
  font-size: 1.8rem;
}
.sidebar, .content {
  flex-shrink: 0; /* ensures they keep their width */
}
.burger {
  display: none; /* default hidden */
  position: fixed;
  top: 1rem;
  left: 1rem;
  z-index: 2000;
  width: 30px;
  height: 22px;
  cursor: pointer;
  flex-direction: column;
  justify-content: space-between;
  background-color: #003366; /* dark blue background behind burger */
  padding: 6px 8px;
  border-radius: 6px; /* rounded corners */
  box-shadow: 0 0 6px rgba(255,179,71, 0.6); /* subtle glow */
}
.burger span {
  display: block;
  height: 4px;
  background: #ffb347;
  border-radius: 2px;
  transition: all 0.3s ease;
}
.chapter-button {
  display: block;
  width: 100%;
  background: none;
  border: none;
  color: #ffd8a8;
  font-size: 1.1rem;
  cursor: pointer;
  text-align: left;
  padding: 0.75rem 0;
  outline: none;
  border-bottom: 1px solid transparent;
  transition: border-color 0.3s, color 0.3s;
}
.chapter-button:hover {
  border-bottom: 1px solid #ffb347;
  color: #ffb347;
}
.chapter-button.active {
  color: #ffb347;
  font-weight: bold;
  border-bottom: 1px solid #ffb347;
}
.content {
  flex-grow: 1;
  background: #00264d;
  padding: 2rem;
  max-width: 900px;        /* slightly wider than A4 */
  margin: 0 2rem;          /* center content horizontally */
  overflow-y: auto;        /* scroll inside content */
  scroll-behavior: smooth;
}
.content section {
  margin-bottom: 2.5rem;
  scroll-margin-top: 1.5rem; /* So heading isn’t hidden when scrolled to */
  outline: none; /* avoid default outline when focused */
}
.content section h3 {
  color: #ffb347;
  margin-top: 0;
  border-bottom: 2px solid #ffb347;
  padding-bottom: 0.3rem;
}
/* Make images responsive */
.content img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 1rem 0;
}
.back-link {
  color: #ffb347;
  text-decoration: none;
  display: inline-block;
  margin-bottom: 1.5rem;
  font-weight: 600;
}
.back-link:hover {
  text-decoration: underline;
}
.gallery-container {
  max-width: 800px;
  margin: 2rem auto;
  text-align: center;
}
.main-photo {
  width: 100%;
  max-height: 500px;
  object-fit: contain;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
}
.thumbnails-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 1rem;
}
.arrow {
  font-size: 2rem;
  cursor: pointer;
  user-select: none;
  padding: 0 1rem;
  color: white;
}
.thumbnails {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding: 10px;
  max-width: 80%;
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.thumbnails::-webkit-scrollbar {
  display: none;
}
.thumbnails img {
  height: 80px;
  cursor: pointer;
  border-radius: 5px;
  opacity: 0.6;
  transition: transform 0.2s, opacity 0.2s;
}
.thumbnails img:hover,
.thumbnails img.active {
  opacity: 1;
  transform: scale(1.1);
  border: 2px solid #fff;
}
@media (max-width: 900px) {
  body, html {
    flex-direction: column;
    height: auto;
    overflow: auto;
  }
  .burger {
    display: flex;
  }
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    transform: translateX(-100%);
    width: 260px;
    background: #003366;
    padding: 1rem;
    box-sizing: border-box;
    overflow-y: auto;
    transition: transform 0.3s ease;
    z-index: 1500;
  }
  .sidebar.open {
    transform: translateX(0);
  }
  .content {
    max-width: 100%;
    padding: 1rem;
    margin: 0;
    overflow: visible;
  }
}
</style>

</head>
<body>

<!-- Burger Menu Icon -->
<div class="burger" id="burger" aria-label="Toggle menu" role="button" tabindex="0">
  <span></span>
  <span></span>
  <span></span>
</div>

  <nav class="sidebar" id="sidebar" aria-label="Project chapters">
    <h2>Chapters</h2>

    <button class="chapter-button" data-target="overview">Overview</button>
    <button class="chapter-button" data-target="loads">Aerodynamic Loads</button>
    <button class="chapter-button" data-target="structure">Wing Structure</button>
    <button class="chapter-button" data-target="mats">Materials</button>
    <button class="chapter-button" data-target="fea">Numerical Model</button>
    <button class="chapter-button" data-target="optimization">Optimization</button>
    <button class="chapter-button" data-target="results">Results</button>  
  </nav>

  <main class="content">
    <a href="index.html" class="back-link">&larr; Back to Portfolio</a>

    <section id="overview" tabindex="-1">
      <h3>Overview</h3>
      <p>The goal of this project is the design and optimization of an aerobatic wing made out of composite materials. The Zivko Edge 540 single seater airplane was chosen to be a reference aircraft, from which the wing shape and certain flight parameters were used in the aerodynamic analysis and structural configuration selection process.
      </p>
      <img src="photos/edge540.jpg" alt="Zivko Edge 540 in an aerobatic maneuver" />
  <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Zivko Edge 540 in an aerobatic maneuver</p>
<p style="color: #ffd8a8; font-style: italic; margin-bottom: 1rem;">
  Reference parameters taken out of Pilot's Operating Handbook
</p>

<table style="width: 100%; border-collapse: collapse; color: #ffd8a8;">
  <thead>
    <tr style="border-bottom: 2px solid #ffb347;">
      <th style="text-align: left; padding: 8px;">Parameter</th>
      <th style="text-align: left; padding: 8px;">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Empty Weight</td>
      <td style="padding: 8px;">1320 lbs / 598.74 kg</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Max gross T/O weight</td>
      <td style="padding: 8px;">2200 lbs / 997.90 kg</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">G rating gross</td>
      <td style="padding: 8px;">±3</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Max gross LDG weight</td>
      <td style="padding: 8px;">2100 lbs / 952.54 kg</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Max aerobatic weight single</td>
      <td style="padding: 8px;">1600 lbs / 725.75 kg</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">G rating single</td>
      <td style="padding: 8px;">±10</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Wing loading empty</td>
      <td style="padding: 8px;">12.4 lbs/ft² / 60.54 kg/m²</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Max airspeed V_NE</td>
      <td style="padding: 8px;">230 kts / 425.96 km/h</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Max full aerobatic airspeed V_a</td>
      <td style="padding: 8px;">170 kts / 314.84 km/h</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Power off stall V_so</td>
      <td style="padding: 8px;">62 kts @ 2200 lbs / @ 997.90 kg</td>
    </tr>
    <tr style="border-bottom: 1px solid #003366;">
      <td style="padding: 8px;">Max roll rate</td>
      <td style="padding: 8px;">420°/sec</td>
    </tr>
    <tr>
      <td style="padding: 8px;">Max rate of climb</td>
      <td style="padding: 8px;">3700 ft/min / 1127.76 m/min</td>
    </tr>
  </tbody>
</table>


    </section>

    <section id="loads" tabindex="-1">
      <h3>Aerodynamic Loads</h3>
    <p>
  To help with the configuration selection process, an aerodynamic analysis was conducted beforehand to extrapolate the pressure field at the marginal flight conditions. The whole process of calculating pressure coefficients was done in XFLR5, a computational tool for airfoils, wings, and planes. 
</p>
<p>
  An important thing to notice about XFLR5 is it uses inviscid theories (LLT, VLM1, VLM2, 3D Panel) which cannot accurately capture pressure gradients at higher Reynolds numbers (&gt;1e7). As the “never exceed” velocity for the reference aircraft equals 230 kts, compressibility effects are expected. Per the note from XFLR5 documentation:
</p>
<blockquote>
  “The VLM and 3D method merely interpolate 2D viscous drag from local wing lift – not great…”
</blockquote>
<p>
  Consequences of this estimation are:
</p>
<ol>
  <li>Underestimation of total drag</li>
  <li>Over-estimation of glide ratio and other performance factors</li>
</ol>
<p>
  Beyond these limitations, there are more to XFLR5, but these have the greatest impact on the results. As a result of the drawbacks listed above, resultant lift values are greater than those in real life scenarios. These greater lift values then consequently lead to greater loads on the wings, making the wing overbuilt by adding unnecessary mass with added structural elements and additional plies in composite layups.
</p>
<p> Because Edge 540 uses a John Roncz symmetrical airfoil which isn't in the public domain so as an alternative NACA0012 airfoil was choosen as the most suitable replacement. </p>  
 <img src="photos/naca0012.png" alt="NACA0012 Airfoil" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">NACA0012 Airfoil</p>

  <p>
    Measurements for the Edge 540 wing were taken out of the Pilot's Operating Handbook and are as follows:
  </p>

  <ul style="list-style-type: disc; padding-left: 1.5rem;">
    <li>Wing span – 7.62 m</li>
    <li>Root chord length – 1.68 m</li>
    <li>Tip chord length – 0.84 m</li>
  </ul>

  <p>
    Wings are installed at the mid level and exhibit no dihedral or twist angle.
  </p>

  <p>
    Airfoil simulations were run for <em>Re &lt; 1×10⁷</em>, after which half-wing runs were conducted. Plane analyses were set to run for angles of attack ranging from -15° to +15° in 1° increments. However, due to the limitations mentioned earlier, the solver could not converge beyond 9.5°.
  </p>

  <p>
    As a result, the extrapolated pressure field corresponds to flight conditions of <strong>230 kts</strong> and an angle of attack of <strong>9°</strong>.
  </p>
   <img src="photos/pressure_9deg.png" alt="Pressure field on the upper surface of the wing" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Pressure field on the upper surface of the wing</p>

    <img src="photos/CLCD.png" alt="CL/CD graph" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">CL/CD plot obtained through 3D Panel method</p>

   
    <img src="photos/Lwingspan.png" alt="Lift plot" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Lift distribution over the wingspan</p>

   <p>
  To get the two-dimensional pressure field, extrapolation of <em>C<sub>p</sub>(x)</em> and <em>L(b)</em> curve coordinates was needed (pressure coefficients on upper and lower surfaces were subtracted). These two coordinate sets were then multiplied and normalized to obtain the 2D pressure field.
</p>

<p>
  This field can then be scaled by the loading scalar <em>½ n m g</em>, where:
</p>

<ul style="list-style-type: disc; padding-left: 1.5rem;">
  <li><em>n</em> – loading factor</li>
  <li><em>m</em> – mass of the airplane</li>
  <li><em>g</em> – gravitational constant</li>
</ul>

<p>
  In this case, the loading scalar equals <strong>0.5 × 726 × 9.81 = 42673.5 N</strong>. 1/2 in this case just means half of the mass since the calculations were done for one wing only.
</p>

<p>
  All of the calculations were done in MATLAB. The resultant pressure field is presented below.
</p>

   <img src="photos/cpxFitted.png" alt="cp(x) graph" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Extrapolated cp(x)</p>

   <img src="photos/clFitted.png" alt="CL/CD graph" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Extrapolated cl(y)</p>

    <img src="photos/PressureField.png" alt="pressure field" />
    <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">2D Pressure field over the wetted wing surface projection</p>

<p>
    For calculating the control surface force, hingemoment approximation found in Roskam Airplane Design Part VI Chapter 10 was used. Specifically, a Three-Dimensional Control Surface and Tab Hingemoment Derivatives method was used. The three-dimensional hingemoment coefficient for a control surface is estimated from:
</p>

<p>
    <code>c<sub>h</sub> = c<sub>h0</sub> + c<sub>hα</sub> α + c<sub>hδ</sub> δ + c<sub>hδ<sub>t</sub></sub> δ<sub>t</sub></code>
</p>

<p>
    <code>c<sub>h0</sub></code> - zero angle of attack, zero control surface deflection and zero tab deflection hingemoment coefficient – for symmetric airfoils equals 0<br>
    <code>c<sub>hα</sub></code> - three dimensional control surface hingemoment derivative due to angle of attack<br>
    <code>c<sub>hδ</sub></code> - three dimensional control surface hingemoment derivative due to control surface deflection<br>
    <code>c<sub>hδ<sub>t</sub></sub></code> - three dimensional control surface hingemoment derivative due to a tab deflection
</p>

<p>
    First step is to calculate <code>c<sub>hα</sub></code> and needed variables.
</p>

<p>
    <code>c<sub>hα</sub> = [A · cos(Λ<sub>c/4</sub>)] / [A + 2 · cos(Λ<sub>c/4</sub>)] · (c<sub>hα</sub>)<sub>M</sub> + Δc<sub>hα</sub></code><br>
    Because there is no sweep angle on the wing, <code>cos(Λ<sub>c/4</sub>) = 0</code>.
</p>

<p>
    <code>(c<sub>hα</sub>)<sub>M</sub> = (c<sub>hα</sub>)<sub>balance</sub> / √(1 - M<sup>2</sup>)</code><br>
    <code>(c<sub>hα</sub>)<sub>balance</sub></code> is calculated from all the necessary parameters found in Fig.10.65a.
</p>

<p>
    Since there is no overhang, balance ratio is equal to <code>t<sub>c</sub> / (2 c<sub>f</sub>) = 84 / (2 × 260) ≈ 0.162</code>, making<br>
    <code>(c<sub>hα</sub>)<sub>balance</sub> / c"&sub>hα</sub> ≈ 0.91</code> (Read from diagram below for round nose).
</p>
    <img src="photos/nose_aoa.png" alt="nose aoa" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Effect of Nose Shape and Balance on the Two-Dimensional Hingemoment Derivative due to Angle of Attack</p>

<p>
    <code>c"&sub>hα</sub></code> is obtained from:
</p>

<p>
    <code>c"&sub>hα</sub> = c'<sub>hα</sub> + 2 (c<sub>lα</sub>)<sub>theory</sub> [1 - {c<sub>lα</sub> / (c<sub>lα</sub>)<sub>theory</sub>}] {tan(Φ'<sub>te</sub> / 2) - (t / c)}</code>
</p>

<p>
    <code>c'<sub>hα</sub> = (c'<sub>hα</sub> / (c<sub>hα</sub>)<sub>theory</sub>) (c<sub>hα</sub>)<sub>theory</sub></code>
</p>

<p>
    Per the instructions for Eq. 10.128, if the condition:
</p>

<p>
    <code>tan((Φ'<sub>te</sub>) / 2) = tan((Φ''<sub>te</sub>) / 2) = tan(Φ<sub>te</sub> / 2) = t / c</code>
</p>

<p>
    is satisfied, then <code>c''<sub>hα</sub> = c'<sub>hα</sub></code>. This then leads to<br>
    <code>c''<sub>hα</sub> = 0.77 × -0.4 = -0.308</code>. Proof of Eq. 10.128 shows that the upper and lower boundaries of the trailing edge are non-curved lines.
</p>

    <img src="photos/derivative_aoa.png" alt="derivative aoa" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Two-Dimensional Control Surface Hingemoment Derivative due to Angle of Attack</p>

<p>This leads us to finally being able to get <code>(C<sub>hα</sub>)<sub>balanced</sub></code>. If <code>(c<sub>hα</sub>)<sub>balanced</sub> / c"&sub>hα</sub> ≈ 0.91</code> then <code>(c<sub>hα</sub>)<sub>balanced</sub> = -0.2803</code>.</p>

<p>Now that we know <code>(c<sub>hα</sub>)<sub>balanced</sub></code>, we can calculate <code>(C<sub>hα</sub>)<sub>M</sub></code> for <code>M = 0.35</code> (V<sub>NE</sub>≈119 m/s).</p>

<p><code>(C<sub>hα</sub>)<sub>M</sub> = -0.2992</code></p>

<p>
    <code>ΔC<sub>hα</sub> = ((ΔC<sub>hα</sub>) / (c<sub>lα</sub> B<sub>2</sub> K<sub>α</sub> cosΛ<sub>c/4</sub>)) × (c<sub>lα</sub> B<sub>2</sub> K<sub>α</sub> cosΛ<sub>c/4</sub>)</code>
</p>

<p><code>((ΔC<sub>hα</sub>) / (c<sub>lα</sub> B<sub>2</sub> K<sub>α</sub> cosΛ<sub>c/4</sub>))</code> - a factor obtained from Figure 10.77a</p>

<p><code>c<sub>lα</sub></code> - airfoil lift-curve slope of the surface to which the control surface is attached</p>

<p><code>B<sub>2</sub></code> – accounts for control surface and balance chord ratios – determined from Figure 10.77c</p>

<p><code>K<sub>α</sub></code> – accounts for the effect of control surface span – found from:</p>

<p>
    <code>
    K<sub>α</sub> = [ (K<sub>α</sub>)<sub>η<sub>i</sub></sub> (1 - η<sub>i</sub>) - (K<sub>α</sub>)<sub>η<sub>0</sub></sub> (1 - η<sub>0</sub>) ] / (η<sub>0</sub> - η<sub>i</sub>)
    </code>
</p>

<p><code>η<sub>i</sub></code> – inboard span station of the control surface as a fraction of the main surface semi-span</p>

<p><code>(K<sub>α</sub>)<sub>η<sub>i</sub></sub></code> – found from Figure 10.77b</p>

<p><code>η<sub>0</sub></code> – outboard span station of the control surface as a fraction of the main surface semi-span</p>

<p><code>(K<sub>α</sub>)<sub>η<sub>0</sub></sub></code> – found from Figure 10.77b</p>

<p>Reading the diagram in Fig.10.77a, <code>((ΔC<sub>hα</sub>) / (c<sub>lα</sub> B<sub>2</sub> K<sub>α</sub> cosΛ<sub>c/4</sub>))</code> for aspect ratio of 8.23 is 0.004.</p>

<p>Since the aileron spans from 25.2% of the wingspan inboard all the way to the wing tip, <code>η<sub>0</sub></code> will be 1, because the aileron's outward rib is colinear to the wing's tip rib. For <code>η<sub>i</sub> = 0.252</code>, <code>(K<sub>α</sub>)<sub>η<sub>i</sub></sub> = 1.35</code>. For <code>η<sub>0</sub> = 1</code>, <code>(K<sub>α</sub>)<sub>η<sub>0</sub></sub> = 4.25</code>. Considering this:</p>

<p><code>K<sub>α</sub> = 1.35</code></p>

<p><code>B<sub>2</sub></code> is obtained from diagram in Fig.10.77c for <code>c'<sub>f</sub> / c' ≈ 0.2063</code>.</p>

<p><code>B<sub>2</sub> = 1.05</code></p>

<p><code>C<sub>lα</sub></code> was calculated in XFLR5 and is valued at 0.11848.</p>

    <img src="photos/corr_factors_aoa.png" alt="corr factors aoa" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Three-Dimensional Correction Factors for the Control Surface Hingemoment Derivative due to Angle of Attack</p>

<p>We can now calculate for extrapolated values, <code>ΔC<sub>hα</sub></code>:</p>
<p><code>ΔC<sub>hα</sub> = 0.0006718</code></p>
<p>Finally, we can obtain the final value of three dimensional control surface hingemoment derivative due to angle of attack:</p>
<p><code>C<sub>hα</sub> = -0.2986</code></p>

<p>Second step is the calculation of <code>C<sub>hδ</sub></code>:</p>

<p>
    <code>
        C<sub>hδ</sub> = (cosΛ<sub>c/4</sub>) (cosΛ<sub>hl</sub>) × [ (c<sub>hδ</sub>)<sub>M</sub> + α<sub>δ</sub> (c<sub>hα</sub>)<sub>M</sub> ( (2 cosΛ<sub>c/4</sub>) / (A + 2 cosΛ<sub>c/4</sub>) ) ] + ΔC<sub>hδ</sub>
    </code>
</p>

<p><code>(c<sub>hα</sub>)<sub>M</sub> = -0.2992</code></p>
<p><code>(c<sub>hδ</sub>)<sub>M</sub> = (c<sub>hδ</sub>)<sub>bal</sub> / √(1 - M²)</code></p>
<p><code>α<sub>δ</sub> = 0.5</code> (obtained from Fig.8.17 for 30° aileron deflection)</p>

<p>We will start with <code>(c<sub>hδ</sub>)<sub>M</sub></code>. Solution to this coefficient follows the same path as the one for <code>(C<sub>hα</sub>)<sub>M</sub></code>, so any unnecessary descriptions will be omitted for this step.</p>

<p>
    <code>
        (c<sub>hδ</sub>)<sub>bal</sub> = c"<sub>hδ</sub> × { (c<sub>hδ</sub>)<sub>bal</sub> / c"<sub>hδ</sub> }
    </code>
</p>

<p>
    <code>
        c"<sub>hδ</sub> = c'<sub>hδ</sub> + 2 (c<sub>lδ</sub>)<sub>theory</sub> × [1 - { c<sub>lδ</sub> / (c<sub>lδ</sub>)<sub>theory</sub> }] × { tan(Φ'<sub>te</sub>/2) - (t/c) }
    </code>
</p>

<p><code>(c<sub>hδ</sub>)<sub>bal</sub> / c"<sub>hδ</sub> ≈ 0.91</code></p>

<p>Because it was proven before that <code>c"<sub>hδ</sub> = c'<sub>hδ</sub></code>, it follows that:</p>

<p>
    <code>
        c"<sub>hδ</sub> = (c'<sub>hδ</sub> / (c<sub>hδ</sub>)<sub>theory</sub>) × (c<sub>hδ</sub>)<sub>theory</sub>
    </code>
</p>

<p><code>c"<sub>hδ</sub> = 0.91 × -0.77 = -0.7007</code></p>


 <img src="photos/derivative_defl.png" alt="derivative defl" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Two-Dimensional Control Surface Hingemoment Derivative due to Control Surface Deflection</p>

<p>For the round nose and a balance ratio of 0.162, reading a diagram in Fig.10.71, we find <code>(c<sub>hδ</sub>)<sub>balance</sub></code> to be around <code>-0.5676</code>.</p>



 <img src="photos/nose_defl.png" alt="nose defl" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Effect of Nose Shape and Balance on the Two-Dimensional Control Surface Hingemoment Derivative due to Control Surface Deflection</p>

<p>Finally we get:</p>
<p><code>(c<sub>hδ</sub>)<sub>M</sub> = (c<sub>hδ</sub>)<sub>bal</sub> / √(1 - M²) = (-0.5676) / √(1 - 0.35²) = -0.6059</code></p>

<p>Next, we ought to calculate <code>ΔC<sub>hδ</sub></code>:</p>
<p><code>ΔC<sub>hδ</sub> = ((ΔC<sub>hδ</sub>) / (c<sub>lδ</sub> B<sub>2</sub> K<sub>δ</sub> cosΛ<sub>c/4</sub> cosΛ<sub>hl</sub>)) × (c<sub>lδ</sub> B<sub>2</sub> K<sub>δ</sub> cosΛ<sub>c/4</sub> cosΛ<sub>hl</sub>)</code></p>

<p>The first member of the equation is a factor obtained from Fig.10.78a.</p>

 <img src="photos/corr_factors_defl.png" alt="corr factors defl" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Three-Dimensional Correction Factors for the Control Surface Hingemoment Derivative due to Control Surface Deflections</p>

<p><code>c<sub>lδ</sub></code> is found in Fig.8.14 with the value of 0.37. <code>K<sub>δ</sub></code> is basically the same as <code>K<sub>α</sub></code> with a different index and has the same value of 1.35. Same goes for <code>B<sub>2</sub></code>, which is 1.05.</p>

 <img src="photos/flap_eff.png" alt="flap eff" />
   <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Lift Effectiveness of a Plain Flap</p>

   <p>We can now get ΔC<sub>hδ</sub>:</p>
<p><code>ΔC<sub>hδ</sub> = 0.009 × 0.37 × 1.05 × 1 = 0.00349</code></p>

<p>Lastly,</p>
<p>
    <code>C<sub>hδ</sub> = 1 × [ -0.6059 + 0.5 × (-0.2992) × (2 / (8.23 + 2)) ] + 0.00349</code><br>
    <code>C<sub>hδ</sub> = -0.6314</code>
</p>

<p>Since tab isn't considered in the design, three-dimensional control surface hingemoment derivative due to a tab deflection will be considered zero.</p>

<p>After calculating the needed coefficients, we get estimated total three-dimensional hingemoment coefficient for a control surface:</p>
<p>
    <code>C<sub>h</sub> = C<sub>hα</sub> α + C<sub>hδ</sub> δ = -0.2986 × 0.1658 - 0.7239 × 0.5236</code><br>
    <code>C<sub>h</sub> = -0.4285</code>
</p>

<p>Negative coefficient value means the moment is acting opposite to the direction of the control surface deflection. Basically, the force acting upon the control surface wants it to return to the neutral position.</p>

<p>If hingemoment equals:</p>
<p>
    <code>M<sub>hinge</sub> = (1/2) ρ<sub>∞</sub> v<sub>∞</sub><sup>2</sup> S<sub>aileron</sub> MAC<sub>aileron</sub> C<sub>h</sub></code><br>
    <code>ρ<sub>∞</sub> = 1.225 kg/m<sup>3</sup></code><br>
    <code>v<sub>∞</sub> = 119 m/s</code><br>
    <code>S<sub>aileron</sub> = 0.9868125 m<sup>2</sup></code><br>
    <code>MAC<sub>aileron</sub> = 0.34625 m</code><br>
    <code>|M<sub>hinge</sub>| = 1269.92 Nm</code>
</p>

<p>Force on hinge:</p>
<p>
    <code>F<sub>hinge</sub> = M<sub>hinge</sub> / MAC<sub>aileron</sub></code><br>
    <code>F<sub>hinge</sub> = 3667.63 N</code>
</p>

<p>Multiplying <code>F<sub>hinge</sub></code> by a loading factor of 12G gives the hinge force applied to the aircraft under maximum loading conditions:</p>
<p>
    <code>F<sub>hinge</sub><sub>12g</sub> = 44011.56 N</code>
</p>

<p>This force will be applied to the rib edges in the direction of the lift.</p>



    </section>

<section id="structure" tabindex="-1">
<h3>Wing Structure</h3>
<p>Starting idea of the project was to test out how different stiffening solutions affect the structural response of the wing. After making few iterative models, it was noticed that only using the honeycomb core inside of the wings' skin, noticeably lowers the overall wing stiffness thus increasing the susceptibility of critical points to failure. It was then decided that the wing skin will only be stiffened using 'T' profiled stiffeners, or stringers, since combined use of honeycombs and stringers is redundant and adds unnecessary mass to the structure. </p> <h4>Spar Placement</h4> <p> Usually, wing spars are placed at about 25% and 65% of wings' chord length. This matches the maximum thickness of the airfoil and the location of the aerodynamic center of the wing. By looking at the pressure field obtained in the previous chapter, it can be noticed that the maximum pressure acting upon the wing is located between 0 and 200 mm from the leading edge. If this was the only criteria it would lead to the front spar being positioned at 200 mm or around 12% of the root chord length so the environmental loads get effectively transferred to the spars caps. This positioning would put the front spar too much forward of the desireable wings center of gravity. Considering aswell, that the maximum thickness for the NACA0012 airfoil used for the wing is located at 30% of the airfoils chord, it was then decided that a good compromise between the two facts be to place the front wing spar at around 20% of the root chord or 345 mm from the leading edge. </p> <p> Aft spar location was decided by measuring the control surface dimensions of the reference airplane Edge 540 (ailerons). Aft spar location on the root chord is measured at 1176 mm and 588 at the tip which makes it positioned at 70 % of the root and tip chord length respectively. Aft spar will be used as a fixture location for the aileron. </p>  <h4>Rib Spacing</h4> <p> Rib positioning was obtained through an iterative process of simple buckle analyses and was set to 240 mm spacing (14.3 % of the root chord length) at the inner section of the wing (pre aileron) and 356.25 mm spacing(21.2 % of the root chord length) in the aileron zone. Since the wing is being optimized only in regards to the static analysis, buckle analyses might show the wing to be oversized (aswell as undersized) in regards to buckling - if that happens it is possible to increase/decrease the rib spacings and thus reduce the number of ribs in the wing. Considering the expected mass of one rib is around 200 g, (Mass of the inner section rib is 208 g) having 3 or 4 extra ribs throughout the wing doesn't impact the overall wing mass in any significant way. </p> <h4>Stringer Layout</h4> <p> 4 stringers were placed equidistantly between the wing spars (measured from caps edges, wing box side). For the last 4 sections of the wing, only the outer stringers are present, since there isn't enough space for all of the stringers to be extended root-to-tip - low wing tip side buckling loads were considered during this design decision. To stiffen the trailing edge section of the wing, 4 top-to-bottom skin stiffening elements were also added with equal distance between all.<p>
<p> To avoid stress singularities present at the intersection of the three faces in non-manifold geommetries, a skin/cap overhang was added at the root of the wing. For this overhang area, no failure index values will be measured, and only the wing without the overhang addition will be considered during the optimization process.</p>

      
<img src="photos/ovrallCAD.png" alt="CAD imported" />
<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Wing CAD model imported into Abaqus CAE</p>

<a href="drawings/ovrallDim.pdf" target="_blank">
  <img src="drawings/ovrallDimThumbnail.png" alt="Overall Dimensions PDF Preview" style="width:300px; cursor:pointer; border:1px solid #ccc;" />
</a>

<a href="drawings/elmntsDim.pdf" target="_blank">
  <img src="drawings/elmntsDimThumbnail.png" alt="Elements Dimensions PDF Preview" style="width:300px; cursor:pointer; border:1px solid #ccc;" />
</a>

      </p>
    </section>

    <section id="mats" tabindex="-1">
      <h3>Materials</h3>

      <p>Unidirectional CFRP was used as the main material of the wing. For the stiffening element in spar webs, an aluminium honeycomb was chosen. Properties of those materials are listed below.</p>
      <h4>T800 – 24K Unidirectional CFRP</h4>
<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Property</th>
            <th>Value</th>
        </tr>
    </thead>
    <tbody>
        <tr><td>Density</td><td>1540 kg/m<sup>3</sup></td></tr>
        <tr><td>E<sub>1</sub></td><td>139 GPa</td></tr>
        <tr><td>E<sub>2</sub></td><td>9.3 GPa</td></tr>
        <tr><td>ν<sub>12</sub></td><td>0.31</td></tr>
        <tr><td>G<sub>12</sub></td><td>3.94 GPa</td></tr>
        <tr><td>G<sub>13</sub> = G<sub>23</sub></td><td>3.15 GPa</td></tr>
        <tr><td>X<sub>T</sub></td><td>3006 MPa</td></tr>
        <tr><td>X<sub>C</sub></td><td>1779 MPa</td></tr>
        <tr><td>Y<sub>T</sub></td><td>608 MPa</td></tr>
        <tr><td>Y<sub>C</sub></td><td>216 MPa</td></tr>
        <tr><td>S</td><td>68.9 MPa</td></tr>
    </tbody>
</table>

<h4>T800 – 24K CFRP Fracture Energies</h4>
<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Fracture Mode</th>
            <th>Energy</th>
        </tr>
    </thead>
    <tbody>
        <tr><td>G<sub>LT</sub></td><td>80 kJ/m<sup>2</sup></td></tr>
        <tr><td>G<sub>LC</sub></td><td>100 kJ/m<sup>2</sup></td></tr>
        <tr><td>G<sub>TT</sub></td><td>0.1 kJ/m<sup>2</sup></td></tr>
        <tr><td>G<sub>TC</sub></td><td>0.1 kJ/m<sup>2</sup></td></tr>
    </tbody>
</table>

<h4>ECA-R-4.8-29 Aluminium Honeycomb</h4>
<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Property</th>
            <th>Value</th>
        </tr>
    </thead>
    <tbody>
        <tr><td>Density</td><td>29 kg/m<sup>3</sup></td></tr>
        <tr><td>E<sub>1</sub></td><td>72.5 MPa</td></tr>
        <tr><td>E<sub>2</sub></td><td>7.1 MPa</td></tr>
        <tr><td>E<sub>3</sub></td><td>129.5 MPa</td></tr>
        <tr><td>ν<sub>12</sub></td><td>0.2606</td></tr>
        <tr><td>ν<sub>13</sub></td><td>0.224</td></tr>
        <tr><td>ν<sub>23</sub></td><td>0.0219</td></tr>
        <tr><td>G<sub>12</sub></td><td>0.9 MPa</td></tr>
        <tr><td>G<sub>13</sub></td><td>23.9 MPa</td></tr>
        <tr><td>G<sub>23</sub></td><td>14.1 MPa</td></tr>
    </tbody>
</table>

    </section>

    <section id="fea" tabindex="-1">
      <h3>Numerical Model</h3>

<p>After creation, the 3D model of the wing was imported as .step file into the Abaqus CAE preprocessor. 
To simplify the optimization process, composite layups of certain wing areas were grouped. For the wing skin between the front and aft spar caps, 3 layup groups were created: G1, G2 and G3, going from the root of the wing outwards. For G1 and G2 layup groups, ply drop-off was taken into consideration and thus they were made to extend to half the section outwards. These layup extensions were added to minimize the stresses that would otherwise happen if the ply drop-off happened in the area where the skin connects to the ribs. Skin/Stringer overlaps in those areas were also grouped within the three groups: G1S, G2S and G3S, S denoting 'stringers'. Leading edge skin was divided into 12 layups (to add some flexibility to the model - even though one layup would suffice), trailing edge into 4, spar caps into two layups – compressive and tensile, or upper and lower cap – C1 and C2 respectively; spar webs were defined with only one layup, the same as skin stringers and top-to-bottom stringers added in the trailing edge. Ribs were also defined through one layup. Overhang area has the same layup properties that their section counterparts have (overhang middle skin has the same layup as G1 group, overhang upper cap layup is equal to C1, etc…). Out of all the stiffening elements, only the wingbox stringers were modeled to have both the cap and a web, to model the failure index plot as precisely as possible, especially because they're located in critically loaded area of the wing.</p>

<p>For the initial model, all of the layups were made to be quasi-isotropic: [+-45/0/90]<sub>s</sub>, with exceptions of ribs and spar webs, which had 5 mm of aluminium honeycomb core inserts, and skin stringers which had symmetrical layup consisting of +-45 degree plies.</p>

<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Layup label definitions</p>
<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Layup Label</th>
            <th>Definition</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>G1</code></td>
            <td>Root side section of the wingbox skin</td>
        </tr>
        <tr>
            <td><code>G2</code></td>
            <td>Middle section of the wingbox skin</td>
        </tr>
        <tr>
            <td><code>G3</code></td>
            <td>Tip side section of the wingbox skin</td>
        </tr>
        <tr>
            <td><code>G1S, G2S, G3S</code></td>
            <td>Wingbox skin+stringer caps overlap section</td>
        </tr>
        <tr>
            <td><code>LE1-LE12</code></td>
            <td>Leading edge sections</td>
        </tr>
        <tr>
            <td><code>TE1–TE4</code></td>
            <td>Trailing edge sections</td>
        </tr>
        <tr>
            <td><code>C1</code></td>
            <td>Compression spar caps</td>
        </tr>
        <tr>
            <td><code>C2</code></td>
            <td>Tension spar caps</td>
        </tr>
        <tr>
            <td><code>W</code></td>
            <td>Spar webs</td>
        </tr>
        <tr>
            <td><code>SSW</code></td>
            <td>Stringer web sections</td>
        </tr>
        <tr>
            <td><code>STE</code></td>
            <td>Trailing edge stiffener sections</td>
        </tr>
        <tr>
            <td><code>R</code></td>
            <td>Ribs</td>
        </tr>
    </tbody>
</table>

<img src="photos/compositeLayups.png" alt="CAD imported" />
<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Composite layup sections</p>

<p>Optimization analyses will be run using a static solver. 
To model the aileron hinge moments, continuum distributing coupling was defined between two inner and two outer rib edges on the trailing edge side and with a uniform weighting method. Aileron hinge force was then divided by half and applied at each of the reference points.</p>
<img src="photos/aileronCoupling.png" alt="CAD imported" />
<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Aileron reference point coupling</p>

<p>Pressure field resulting from lift was applied to lower section of the wing using an analytical field and a 12G loading magnitude. 
Encastre was applied to the root of the wing.</p>

<img src="photos/boundaryConditions.png" alt="CAD imported" />
<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Load and boundary conditions</p>

<p>Model was meshed using 32 340 elements and 31 021 nodes. 32 326 of the elements were S4R and 14 were S3 elements to help with the mesh of curved and narrow sections of the geometry. Average aspect ratio of the mesh elements was 1.41. The model contained elements with AR&gt;2 but considering those elements were present in areas not significant in respect to loading, mesh refinement wasn't carried out – same goes for S3 elements. 
Below are the photos showing mesh throughout the wing geometry. Wingbox skin mesh was represented with section colors to better show how the mesh transitions spanwise.</p>

      
<div class="gallery-container">
  <div class="main-photo-wrapper" style="position: relative; display: inline-block;">
    <div class="main-arrow left-arrow" onclick="prevMainPhoto()" 
     style="position: absolute; top: 50%; left: 5px; transform: translateY(-50%);
            cursor: pointer; font-size: 2rem; color: white; user-select: none; z-index: 10;
            background: rgba(0,0,0,0.4); padding: 5px 10px; border-radius: 50%;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8);">
  &#10094;
</div>


    <img id="mainPhoto" class="main-photo" src="photos/meshOverall.png" alt="Main Photo" style="display: block; max-width: 100%;">

    <div id="mainPhotoDescription" style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem"></div>

    <div class="main-arrow right-arrow" onclick="nextMainPhoto()" 
         style="position: absolute; top: 50%; right: 5px; transform: translateY(-50%);
                cursor: pointer; font-size: 2rem; color: white; user-select: none; z-index: 10;
                background: rgba(0,0,0,0.4); padding: 5px 10px; border-radius: 50%;">
      &#10095;
    </div>
  </div>

  <div class="thumbnails-wrapper" style="display: flex; align-items: center; margin-top: 10px;">
    <div class="arrow" onclick="scrollThumbnails(-1)" 
         style="cursor: pointer; font-size: 2rem; user-select: none; padding: 5px 10px;">&#10094;</div>
    <div class="thumbnails" id="thumbnails" style="overflow-x: auto; white-space: nowrap; flex: 1;">
      <!-- Thumbnail images -->
      <img src="photos/meshOverall.png" onclick="setMainPhoto(this)" class="active" alt="thumb1" data-description="Overall wing mesh.">
      <img src="photos/meshSkinDetail1.png" onclick="setMainPhoto(this)" alt="thumb2" data-description="Inner wingbox skin mesh">
      <img src="photos/meshSkinDetail2.png" onclick="setMainPhoto(this)" alt="thumb3" data-description="Middle wingbox skin mesh">
      <img src="photos/meshSkinDetail3.png" onclick="setMainPhoto(this)" alt="thumb4" data-description="Outer wingbox skin mesh">
      <img src="photos/meshLEOverall.png" onclick="setMainPhoto(this)" alt="thumb5" data-description="Leading edge skin mesh">
      <img src="photos/meshLEDetail1.png" onclick="setMainPhoto(this)" alt="thumb6" data-description="Root side leading edge skin mesh">
      <img src="photos/meshTEOverall.png" onclick="setMainPhoto(this)" alt="thumb7" data-description="Trailing edge skin mesh">
      <img src="photos/meshSkeletonOverall.png" onclick="setMainPhoto(this)" alt="thumb8" data-description="Internal wing substructure mesh">
      <img src="photos/meshSkeletonDetail1.png" onclick="setMainPhoto(this)" alt="thumb9" data-description="Root side internal wing substructure mesh">
      <img src="photos/meshSkeletonDetail2.png" onclick="setMainPhoto(this)" alt="thumb10" data-description="Root side internal substructure mesh without the stringers">
      <img src="photos/meshSparsOverall.png" onclick="setMainPhoto(this)" alt="thumb11" data-description="Overall spars mesh">
      <img src="photos/meshSparsDetail.png" onclick="setMainPhoto(this)" alt="thumb12" data-description="Root side spars mesh">
      <img src="photos/meshRibsInner.png" onclick="setMainPhoto(this)" alt="thumb13" data-description="Inner section ribs mesh">
      <img src="photos/meshRibsMiddle.png" onclick="setMainPhoto(this)" alt="thumb14" data-description="Middle section ribs mesh">
      <img src="photos/meshRibsOuter.png" onclick="setMainPhoto(this)" alt="thumb15" data-description="Outer section ribs mesh">
      <img src="photos/meshStringersOverall.png" onclick="setMainPhoto(this)" alt="thumb16" data-description="Overall stringers mesh">
      <img src="photos/meshStringersDetail1.png" onclick="setMainPhoto(this)" alt="thumb17" data-description="Root side stringers mesh">
      <img src="photos/meshStringerTEOverall.png" onclick="setMainPhoto(this)" alt="thumb18" data-description="Overall trailing edge mesh">
      <img src="photos/meshARgreaterThan2.png" onclick="setMainPhoto(this)" alt="thumb19" data-description="Elements with aspect ratio greater than 2 (Highlighted)">
    </div>
    <div class="arrow" onclick="scrollThumbnails(1)" 
         style="cursor: pointer; font-size: 2rem; user-select: none; padding: 5px 10px;">&#10095;</div>
  </div>
</div>



    </section>


    <section id="optimization" tabindex="-1">
      <h3>Optimization</h3>

    <p>
      Optimization was automated with a Python script whose goal is to run the <code>.inp</code> file through Abaqus/Standard, extrapolate the needed results, feed them into a genetic algorithm, and then edit the <code>.inp</code> file with the evolved variables – the process is repeated until the algorithm converges.
    </p>

    <img src="photos/genOptiFlow.png" alt="gen opti flow" style="width: 50%; height: auto;"/>
    <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Optimization Algorithm Flowchart</p>

    <p>
      Only the wingbox skin and spar caps were subjected to the optimization. Control variables used were: maximum Tsai-Wu failure index (TSAIWU) and y-direction displacement of the wing tip (U2). TSAIWU was set to have the upper limit of &lt;1, while the upper limit of U2 was set to be 10% of the half-wingspan, which equals 380 mm. The algorithm also follows a rule of minimizing the mass of the wing (variable <code>MASS</code>). It was expected for the total mass of the wing to be less than 30 kg. If the solution violates any of these constraints, algorithm is instructed to penalize it and diverge from it.
    </p>

    <table border="1" cellpadding="5" cellspacing="0">
      <tr>
        <th>Variable</th>
        <th>Constraint</th>
      </tr>
      <tr>
        <td>TSAIW</td>
        <td> &lt; 1></td>
      </tr>
      <tr>
        <td>U2</td>
        <td>&lt; 380 mm</td>
      </tr>
      <tr>
        <td>Mass</td>
        <td>&lt; 32 kg</td>
      </tr>
    </table>

    <p>
      Groups G1, G2, and G3 and layups C1 and C2 had upper and lower bounds set with a constant increment of 0.125, which represents the thickness of a single ply in millimeters. Since the variable bounds need to be as narrow as possible to ease and speed up the optimization process, a few iterative runs were made with the goal of testing different upper-bound layups.
    </p>

    <p>
      <strong>Important notice:</strong> Certain composite design guidelines were followed (in regard to spar cap layups – skin layups were set to always be quasi-isotropic, with an additional 0-degree ply as reinforcement). These composite design guidelines will be discussed after the optimization results are shown.
    </p>

<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Layup thickness bounds</p>
<table border="1" cellpadding="5" cellspacing="0">
  <thead>
    <tr>
      <th>Layup/Group</th>
      <th>Ply orientation</th>
      <th>Lower Bound</th>
      <th>Upper Bound</th>
      <th>Increment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>G1/G1S</td>
      <td>Every ply orientation</td>
      <td>.250</td>
      <td>.500</td>
      <td>.125</td>
    </tr>
    <tr>
      <td>G2/G2S</td>
      <td>Every ply orientation</td>
      <td>.125</td>
      <td>.250</td>
      <td>.125</td>
    </tr>
    <tr>
      <td>G3/G3S</td>
      <td>Every ply orientation</td>
      <td>.125</td>
      <td>.125</td>
      <td>.125</td>
    </tr>
    <tr>
      <td rowspan="3">C1/C2</td>
      <td>+45°/-45°</td>
      <td>.250</td>
      <td>.500</td>
      <td>.125</td>
    </tr>
    <tr>
      <td>0°</td>
      <td>1.25</td>
      <td>2.5</td>
      <td>.125</td>
    </tr>
    <tr>
      <td>90°</td>
      <td>.250</td>
      <td>.500</td>
      <td>.125</td>
    </tr>
  </tbody>
</table>

<p>After 2184 runs it was noticed the algorithm wasn't converging anymore and thus the simulation was stopped. Even though algorithm sought any solution with Tsai-Wu failure index lower than 1 (while also satisfying other constraints) it was decided that only the thickness sets with Tsai-Wu values lower than 0.95 will be considered to introduce some level of safety margin into the design (Numerical model already considers the material idealized - ply interlaminar interface is considered perfectly bonded, etc.). Chosen solution is presented with an orange point in Tsai-Wu/Mass plot below.</p>

    <img src="photos/optimizationPlot2D.png" alt="opti 2D" style="width: 100%; height: auto;"/>
    <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Tsai-Wu/Mass optimization plot with a chosen solution shown</p>

  <p>Results from the best solution are as follows (thicknesses per ply):</p>
<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Best solution results</p>
<table border="1" cellpadding="5" cellspacing="0">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>Mass</td><td>28.133 kg</td></tr>
    <tr><td>TSAIW</td><td>0.94767</td></tr>
    <tr><td>U2</td><td>328.5 mm</td></tr>
  </tbody>
</table>

  <p>
    It is expected for the failure index to be smaller by around 5-15 % once the realistic layups are implemented in the model,
    which can be proven using CLT. Also, new CAE model will have a slightly bigger mass since the G1 and G2 layups will be extended
    by half a distance between the ribs to prevent stress peak on areas where skin and ribs meet.
  </p>

  <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Layup thicknesses per ply</p>
<table border="1" cellpadding="5" cellspacing="0">
  <thead>
    <tr>
      <th>Section</th>
      <th>Ply Orientation</th>
      <th>Thickness (mm)</th>
    </tr>
  </thead>
  <tbody>
    <tr><td rowspan="3">C1</td><td>+45°/-45°</td><td>0.250</td></tr>
    <tr><td>0°</td><td>1.750</td></tr>
    <tr><td>90°</td><td>0.250</td></tr>

    <tr><td rowspan="3">C2</td><td>+45°/-45°</td><td>0.250</td></tr>
    <tr><td>0°</td><td>1.650</td></tr>
    <tr><td>90°</td><td>0.250</td></tr>

    <tr><td rowspan="3">G1</td><td>+45°/-45°</td><td>0.250</td></tr>
    <tr><td>0°</td><td>0.500</td></tr>
    <tr><td>90°</td><td>0.250</td></tr>

    <tr><td rowspan="3">G2</td><td>+45°/-45°</td><td>0.125</td></tr>
    <tr><td>0°</td><td>0.250</td></tr>
    <tr><td>90°</td><td>0.125</td></tr>

    <tr><td rowspan="3">G3</td><td>+45°/-45°</td><td>0.125</td></tr>
    <tr><td>0°</td><td>0.125</td></tr>
    <tr><td>90°</td><td>0.125</td></tr>
  </tbody>
</table>

  <p>
    When it comes to deciding what layups will be used based on the chosen solution, certain composite design guidelines are to be followed.
    Important notice is that these guidelines were established based on empiric and experimental data and real world data is still needed to
    validate the design of a structure. Also, these guidlines were established back when fiber materials were still more brittle than what they
    are today, hence some OEMs circumvent these guidelines through rigorous testing, manufacturing methods and other design features that help
    in preventing delaminations and other defects. Design guidelines used in this project are as follows:
  </p>

  <ol>
    <li>Laminates are to be symmetric about their middle surfaces.</li>
    <li>Laminates are required to be balanced.</li>
    <li>Laminates will be fiber-dominated at least 10% of their plies in each of the 0, +-45 and 90 direction.</li>
    <li>Keep a reasonable number of primary load carrying plies away from the outer surfaces.</li>
    <li>Laminates should be symmetric and ballanced to minimize buckling strengths.</li>
    <li>Use of +-45 plies on the outer surfaces is recommended for stability critical laminates.</li>
    <li>Limit layer thicknesses withing laminate to 0.5 mm or less.</li>
    <li>The Poisson's ratio mismatch between a stiffener and apanel that are bonded or cocured together should be less than 0.1.</li>
    <li>The maximum percentage of plies in any direction will be 60% for composites where geometric discontinuities are present (holes, etc.)</li>
    <li>Laminates at mechanically-fastened joints should be fiber-dominated , contain no more than 60% plies at any single orientation, and contain no less than 35% +-45 plies.</li>
  </ol>

  
    <section id="results" tabindex="-1">
      <h3>Results</h3>
      
      <p>Based on the presented guidelines and results obtained through the optimization process, determined layups for the wingbox section, aswell as for the rest of the wing, are:</p>

     <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Determined layups for wingbox section</p>

<table border="1" cellpadding="5" cellspacing="0">
  <thead>
    <tr>
      <th>Section</th>
      <th>Layup</th>
      <th>Total Thickness</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>C1</td>
      <td>[+-45°/0°_4/+-45°/0°<sub>4</sub>/90°/0°<sub>4</sub>/90°/0°<sub>2</sub>]<sub>s</sub></td>
      <td>5.00 mm</td>
    </tr>
    <tr>
      <td>C2</td>
      <td>[+-45°/0°<sub>4</sub>/+-45°/0°<sub>4</sub>/90°/0°<sub>4</sub>/90°/0°]<sub>s</sub></td>
      <td>4.75 mm</td>
    </tr>
    <tr>
      <td>G1</td>
      <td>[[+-45°/0°/90°]<sub>2</sub>/0°<sub>2</sub>]<sub>s</sub></td>
      <td>2.50 mm</td>
    </tr>
    <tr>
      <td>G2</td>
      <td>[+-45°/0°/90°/0°]<sub>s</sub></td>
      <td>1.25 mm</td>
    </tr>
    <tr>
      <td>G3</td>
      <td>[+-45°/0°/90°]<sub>s</sub></td><p>
      <td>1.00 mm</td>
    </tr>
    <tr>
      <td>LE1-LE12</td>
      <td>[[+-45/0/90]<sub>2</sub>]<sub>s</sub></td>
      <td>1 mm</td>
    </tr>
    <tr>
      <td>R</td>
      <td>[+-45/HC]<sub><span style="text-decoration: overline;">s</span></sub></td>
      <td>5.5 mm</td>
    </tr>
    <tr>
      <td>SSW</td>
      <td>[+-45<sub>2</sub>]<sub>s</sub></td>
      <td>1 mm</td>
    </tr>
    <tr>
      <td>STE</td>
      <td>[+-45]<sub>s</sub></td>
      <td>1 mm</td>
    </tr>
    <tr>
      <td>TE</td>
      <td>[[+-45/0/90]]<sub>s</sub></td>
      <td>1 mm</td>
    </tr>
    <tr>
      <td>W</td>
      <td>[[+-45<sub>2</sub>/0/90]/HC]<sub><span style="text-decoration: overline;">s</span></sub></td>
      <td>5.75 mm</td>
    </tr>
  </tbody>
</table> 
      
    <img src="photos/plyDropOff.png" alt="ply drop off diagram" style="width: 100%; height: auto;"/>
    <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Ply Drop-Off, Wing Box Skin</p>

    To help with model referencing simple nomenclature will be introduced:

<p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Numerical model nomenclature</p>

    <table border="1" cellpadding="5" cellspacing="0">
  <thead>
    <tr>
      <th>Model</th>
      <th>Defnition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>OPTI0</td>
      <td>Model describing wing where thick plies were used, one obtained through optimization process where layups haven't changed</td>
    </tr>
    <tr>
      <td>OPTI1</td>
      <td>Model where realistic layups were introduced, plies have constant thickness of 0.125 mm</td>
    </tr>
    <tr>
      <td>OPTI2</td>
      <td>Model where strengthened spar webs were introduced, both spar webs have extra +-45 plies on each side of the midplane</td>
    </tr>
  </tbody>
</table>

    <p>Observing the new results with only wingbox skin and spar caps layups being changed, it is noticed that the location of the maximum Tsai Wu failure index has been translated onto a front spar web (OPTI1). Thus, it has been decided to add 2 additional +-45 \degree plies onto each side of the midplane of spar web layups (OPTI2). This change has reduced maximum Tsai Wu failure index from 0.977 to 0.8, and also changing the location of maximum failure index to spar cap skin interface. Maximum displacement in Y direction for the first optimized iteration (OPTI0) is 295.4 mm, and maximum displacement in Y direction for strengthened spar webs is 289.1, which represents a change of 2.2% (6.3 mm).</p>

    Below is the U2 displacement diagram in spanwise direction for top side of the both front and aft spar caps. Bottom sides' displacement wasn't plotted because of how the pressure field loading is applied since it might not show "realistic" results and the displacement might be more aggressive than it would in real world situation.

    <img src="photos/U2plot.png" alt="u2 spanwise" style="width: 100%; height: auto;"/>
    <p style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">
    Spanwise displacement of Front and Aft Spar Cap Topside in Y direction</p>

    <p><b>Important notice about the maximum failure location and value:</b> When optimization was being run, maximum failure index was being measured for the whole wing structure - layups were simple 8 ply quasi-isotropic symmetric layups with thick plies (as described in the optimization chapter). After the results were obtained, realistic layups were implemented into the model (OPTI1), thus changing the properties of those layups including the stiffnesses. Implementation of those realistic layups resulted with different structural behavior (different material properties) under the loading conditions meaning different results were obtained - this is why maximum failure index value and location was different between the optimized model with thick plies (OPTI0) and modified one with realistic layups (OPTI1).</p>

    <img src="photos/opti1results.png" alt="opti 1 results" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Maximum Tsai Wu failure index of OPTI1 model</p>

    <img src="photos/opti2results.png" alt="opti 2 results" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Maximum Tsai Wu failure index of OPTI2 model</p>

    Maximum TSAIW value is in the location where spar caps edge and skin (leading edge) meet. Diagram below shows Tsai-Wu failure index values throughout the thickness of the spar cap, and also throughout the thickness of the leading edge skin.

    <img src="photos/opti1U2.png" alt="opti 1 U2" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">U2 displacement of OPTI1 model</p>

    <img src="photos/opti2U2.png" alt="opti 2 U2" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">U2 displacement of OPTI2 model</p>


    If one is to observe only the layups that were being optimized, it can be noticed how the maximum failure index from the optimization process (OPTI0 model, TSAIW = 0.94767) and the one from realistic layups model (OPTI1 model, TSAIW = 0.7934). This is because using more plies within a layup whose thickness is fixed enables the layup to have more uniformed stress distribution with lower stress peaks

    <img src="photos/opti1resultsWB.png" alt="opti 1 results wingbox" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Maximum Tsai Wu failure index of OPTI1 model wingbox</p>

    <img src="photos/opti2resultsWB.png" alt="opti 2 results wingbox" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Maximum Tsai Wu failure index of OPTI2 model wingbox</p>



  <p>
  Modal analysis of the wing was done aswell, but only for the OPTI2 model. For the modal analysis, only first 6 eigen frequencies were been calculated for and the results are displayed in the table below. It shows that modes 2 and 3, aswell as modes 5 and 6 exhibit frequencies that differ no more than 1%. Below the eigenvalues table are modal shapes for each of the frequencies.
  </p>

<table border="1" cellspacing="0" cellpadding="5">
  <tr>
    <th>Mode</th>
    <th>Eigenfrequency [Hz]</th>
  </tr>
  <tr>
    <td>1</td>
    <td>24.304</td>
  </tr>
  <tr>
    <td>2</td>
    <td>91.133</td>
  </tr>
  <tr>
    <td>3</td>
    <td>91.350</td>
  </tr>
  <tr>
    <td>4</td>
    <td>139.500</td>
  </tr>
  <tr>
    <td>5</td>
    <td>178.430</td>
  </tr>
  <tr>
    <td>6</td>
    <td>179.900</td>
  </tr>
</table>

    <img src="photos/mode1.png" alt="mode 1" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Mode 1, 24.304 Hz</p>

    <img src="photos/mode2.png" alt="mode 2" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Mode 2, 91.133 Hz</p>
    
    <img src="photos/mode3.png" alt="mode 3" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Mode 3, 91.350 Hz</p>

    <img src="photos/mode4.png" alt="mode 4" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Mode 4, 139.500 Hz</p>

    <img src="photos/mode5.png" alt="mode 5" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Mode 5, 178.430 Hz</p>

    <img src="photos/mode6.png" alt="mode 6" style="width: 100%; height: auto;"/>
    <p> style="color: #ffd8a8; font-style: italic; margin-top: 0.5rem;">Mode 6, 179.900 Hz</p>

    </section>


  </main>

<script>
  const buttons = document.querySelectorAll('.chapter-button');
  const sections = Array.from(buttons).map(btn => document.getElementById(btn.dataset.target));
  const content = document.querySelector('.content');
  const burger = document.getElementById('burger');
  const sidebar = document.getElementById('sidebar');

  // Toggle sidebar on mobile
  burger.addEventListener('click', () => {
    sidebar.classList.toggle('open');
  });

  // Scroll to section on click
  buttons.forEach((button, i) => {
    button.addEventListener('click', () => {
      const targetSection = sections[i];
      if (targetSection) {
        const isMobile = window.innerWidth <= 900;

        if (isMobile) {
          window.scrollTo({
            top: targetSection.getBoundingClientRect().top + window.scrollY - 80,
            behavior: 'smooth'
          });
          sidebar.classList.remove('open'); // Close menu after click
        } else {
          content.scrollTo({
            top: targetSection.offsetTop,
            behavior: 'smooth'
          });
        }

        targetSection.focus({ preventScroll: true });
        setActiveButton(i);
      }
    });
  });

  // Highlight active chapter
  function setActiveButton(index) {
    buttons.forEach((btn, i) => {
      btn.classList.toggle('active', i === index);
    });
  }

  // Track scroll for active highlight (desktop only)
  content.addEventListener('scroll', () => {
    if (window.innerWidth > 900) {
      const scrollPos = content.scrollTop + 10;
      let currentIndex = 0;

      sections.forEach((section, i) => {
        const heading = section.querySelector('h3');
        if (heading && heading.offsetTop <= scrollPos) {
          currentIndex = i;
        }
      });

      setActiveButton(currentIndex);
    }
  });

  // Set default active on load
  setActiveButton(0);

  // Gallery related code

  const thumbnailsContainer = document.getElementById("thumbnails");
  const thumbnails = thumbnailsContainer.querySelectorAll("img");
  const mainPhoto = document.getElementById("mainPhoto");

  // Current active index for the gallery
  let currentIndex = 0;

function setMainPhoto(imgElement) {
  mainPhoto.src = imgElement.src;

  document.getElementById("mainPhotoDescription").textContent = imgElement.dataset.description || "";

  thumbnails.forEach((img, i) => {
    img.classList.toggle("active", img === imgElement);
    if (img === imgElement) currentIndex = i;
  });

  scrollThumbnailIntoView(currentIndex);
}


  // Scroll thumbnails ribbon by direction (-1 or 1)
  function scrollThumbnails(direction) {
    const scrollAmount = 100;
    thumbnailsContainer.scrollBy({ left: direction * scrollAmount, behavior: "smooth" });
  }

  // Scroll the thumbnails container to center the active thumbnail if possible
  function scrollThumbnailIntoView(index) {
    const thumbnail = thumbnails[index];
    if (!thumbnail) return;

    const containerRect = thumbnailsContainer.getBoundingClientRect();
    const thumbRect = thumbnail.getBoundingClientRect();

    // Calculate how much to scroll to center the thumbnail
    const offset = (thumbRect.left + thumbRect.width / 2) - (containerRect.left + containerRect.width / 2);

    thumbnailsContainer.scrollBy({ left: offset, behavior: "smooth" });
  }

  // Show previous image on main image arrow click
  function prevMainPhoto() {
    if (currentIndex > 0) {
      currentIndex--;
      setMainPhoto(thumbnails[currentIndex]);
    }
  }

  // Show next image on main image arrow click
  function nextMainPhoto() {
    if (currentIndex < thumbnails.length - 1) {
      currentIndex++;
      setMainPhoto(thumbnails[currentIndex]);
    }
  }

  // Initialize the gallery - mark first thumbnail active on load
  setMainPhoto(thumbnails[0]);

</script>

</body>
</html>
